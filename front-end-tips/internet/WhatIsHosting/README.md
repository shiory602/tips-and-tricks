# Webサーバーとは何ですか？

> ホームページやWebサービスを置いておくコンピュータ
> Webクライアント(ブラウザ)のリクエストに応じて静的画面や画像などのホームページのデータをブラウザに送ってくれるサーバー
> Webサーバーがなければシステムを公開することはできない

## ホスティングサービス（レンタルサーバー）
> サーバーを借りることを**ホスティング**という

**ホスティングサービス**とは、プロバイダや通信事業者が保有するサーバをネットワーク経由で顧客に貸し出すサービスのこと。
データセンターの利用形態の一つであり、一般的に**レンタルサーバー**とも呼ばれる。

### 主なWEBサーバ
- **Apache**: オープンソース。高い信頼性と充実した機能を備えた世界中で最も多く使われている。
- **Nginx**（エンジンエックス）: オープンソース。同時リクエストの処理に特価していて、軽量で処理が早い。
- IIS（Microsoft Internet Information Services）: Microsoft Windowsの標準WEBサーバー。

Webサーバーの他に**APサーバー**という*アプリケーションの実行結果を返すサーバー*もあるが静的コンテンツ（HTMLや画像）なら、Webサーバーだけで公開可能。

### ホスティングの種類
サーバ会社からサーバを借りる際には、専用サーバと共有サーバの２つから選択する。

- 共用ホスティング: 1台のサーバーを複数ユーザーで共有する
    メリット
    - 一つのサーバを複数で使用するので、コストが安い
    - 申し込みをしてから実際に使用できるまでの時間が短いものが多く、手軽に申し込める
    - サーバ会社が管理してくるので、管理が楽
    - オプションサービスが充実している
    デメリット
    - サーバのスペックが低い
    - サーバの管理者権限がないので、サーバの設定変更が自由にできない
    - 他のWebサイトやシステムによる影響を受けてしまう可能性がある

- 専用ホスティング: 1台のサーバーを1社だけで使う
    メリット
    - 専有のため、他の利用者に影響されず、自分が使いやすいようにカスタマイズができる
    - リソースが明確で、性能評価しやすい
    - 別のサイトの影響を受けない
    デメリット
    - スペックの変更する際に、サーバを停止しないといけず、容易に行えない
    - リソースの調整ができず、無駄なコストが発生する場合がある
    - 専門知識がないと導入・運用が難しく、サーバの管理が大変である

### ハウジング（コロケーション）サービス
**ハウジング**は、サーバーを置く場所を提供するサービスであり、自前でサーバーを用意する必要がある。

## クラウドサービス
**クラウド**: ユーザーが大規模なインフラやソフトウェアを持たずとも、インターネット上で必要に応じてサービスを利用できる仕組み
サービスのアカウントを持っていればコンピューターだけでなくスマホ・タブレットなどの携帯端末からもアクセスできる。
サーバーの管理・運用をご自身または費用を支払って委託する必要がある。
大規模サイト、ゲームアプリケーション、一時的にアクセスが急激に伸びるキャンペーンサイトなどの構築したい場合に使うとよい。

### クラウドサービスの種類
- **SaaS（Software as a Service）**: Google Workspace（旧：G Suite）やSalesforceなど
    - Gmailのようにインターネットに接続するだけで利用できるサービス
    - どんな端末からもアクセスできる、複数人がデータにアクセスして作業・編集を行える
- **PaaS（Platform as a Service）**: Google App Engine、Microsoft Azureなど
    - システム開発などの際に必要になる基盤を提供するサービス
    - 構築されたサービスは、会社で利用するだけでなく顧客に提供も可能
- **HaaS（Hardware as a Service）**: Amazonがawsの一つとして提供するAmazon EC2など
    - 仮想サーバーや回線をインターネット上で提供するサービス
    - サーバーの運用コストを抑え、災害復旧対策やセキュリティ対策が柔軟で安全に行える
- **IaaS（Infrastructure as a Service）**: Google Compute Engine など
    - システム基盤を作成するためのインフラを提供するサービス
    - 必要なハードウェアのスペックやOSをユーザーが自由に選定できるため、柔軟なシステム運用ができる

### ホスティングとクラウドサービスの比較
|  | ホスティング | クラウド |
| --- | --- | --- |
| 対応可能ユーザー規模 | 小中規模 | 小中大規模 |
| 導入費用 | 数千円程度 | ０円 |
| 利用料金 | 従量料金・定額制 | 定額制 |
| ストレージ | 上限あり | スケール自由 |

***


# WebサーバーとHTTPはどう関係しますか？
> Webブラウザ（閲覧者）はWebサイト（Webサーバー）にアクセスする時、**HTTP**という**指示方法（手順）**に従って接続する
> 利用者全員がこのプロトコルを守ることでインターネットの利用が促進されている


## WebサーバーによるURLの読み込み
 
ブラウザで入力されるアドレスは、**URL(Uniform Resource Locator)**と呼ばれる。
ブラウザは、URLを受け取ると、その内容を確認し、3つの要素に分けて考える。
```
http://neko.com/index.html
```

- **http** → 「HTTPというプロトコルを使って、サイトにアクセスせよ」という指令
- **com** → 接続先ホストはlocalhost、接続ポート番号は80とする
- 接続できたら、 `/index.html` を要求する

ブラウザーはこの情報を元にサーバーへ接続し、サーバーから情報を取得できるように要求を送り、結果を受け取って画面に表示するようになっている。
URLとして接続先ホスト名の後に何も書いていない場合は自動的に末尾に `/` が補われて `http://neko.com/` として扱われる。 

### HTTP(プロトコル)
Hypertext Transfer Protocolの略称で、ブラウザーとサーバーが話すときの決まりごと。

- HTTP以外のプロトコルはファイアウォールなどでブロックされることが多い
- HTTPだけでほぼどんなサービスでも提供できる

### HTTPS
- **HTTP over SSL/TLS**のことで、**常時SSL**とも呼ばれる。
- セキュリティ強化のために導入された。
HTTPSはセキュアな通信路上でHTTPを利用できるようにしたものであり、中核のプロトコルについてはHTTPと大きな違いはない。

***

# Webサイトを外部に公開する時、クラウドサーバーやレンタルサーバーを利用するのは何故ですか？
> Webサイト公開に必要不可欠な**サーバー**はネットワーク上にホームページのデータを保存しておき、アクセスに応じてHTMLや画像などのホームページを構成するデータをユーザーのパソコンやスマートフォンに提供する役割を持つ。
> 自社サーバー(自社でサーバーを丸ごと購入し、社内に設置して運用)はOSやアプリケーションを社内でカスタマイズできるので自由度が高いのがメリットだが、サーバーを購入すると高額な初期費用がかかり、メンテナンスやセキュリティもすべて社内でする必要性が出てくる。
> そのため中小企業などの多くの会社にとってホームページを運用する際は、クラウドサーバーやレンタルサーバー(ホスティングサービス)を使うのが現実的である。

## Webサイトは**サーバー・ドメイン・データ**の全てが揃っていないと公開できない。
ホームページを見られる状態にするためには、そのホームページのデータをサーバーに保存（アップロード）する必要がある。
### Webサイト公開に必要なもの
1. サーバー：Webサイトを置くための土地
2. ドメイン：土地に建てた家の住所（Webサイトのアドレス）
3. データのアップロード：家に家具を設置する（Webサイトの構成）

***

参照元：
[No.1 Web Service](https://www.no1web.jp/blog/15004/),
[HTTPプロトコルとは](https://www.atmarkit.co.jp/ait/articles/1703/29/news045.html),
[サーバーとは何か？ホームページ作成との関係を初心者へわかりやすく解説](https://ds-b.jp/media/what-is-server/)